(function(t){function e(e){for(var n,i,c=e[0],o=e[1],u=e[2],p=0,d=[];p<c.length;p++)i=c[p],a[i]&&d.push(a[i][0]),a[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,c=1;c<r.length;c++){var o=r[c];0!==a[o]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},s=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=o;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),a=r.n(n);a.a},"52dc":function(t,e,r){"use strict";var n=r("9548"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("8c4f"),s=r("2f62"),i=r("ce5b"),c=r.n(i),o=(r("bf40"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("v-app",[r("AppNavigation"),r("v-container",{attrs:{"grid-list-md":""}},[r("router-view")],1),r("v-dialog",{attrs:{value:t.isLoading,persistent:"",width:"400"}},[r("v-card",{attrs:{color:"primary",dark:""}},[r("v-card-text",[t._v("\n          Loading ...\n          "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),r("v-dialog",{attrs:{value:t.showUserForm,"max-width":"600px",persistent:""}},[r("UserForm")],1),r("v-dialog",{attrs:{value:t.canDisplayAlert,"max-width":"400"},on:{input:function(e){return t.closeAlert()}}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Message")]),r("v-card-text",[t._v("\n          "+t._s(t.alertMessage)+"\n        ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.closeAlert()}}},[t._v("OK")])],1)],1)],1),r("v-dialog",{attrs:{value:t.canDisplayConfirm,"max-width":"400",persistent:""}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("Confirm")]),r("v-card-text",[t._v("\n          "+t._s(t.confirmMessage)+"\n        ")]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"error darken-1"},on:{click:function(e){return t.cancel()}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"info darken-1"},on:{click:function(e){return t.confirm()}}},[t._v("Confirm")])],1)],1)],1)],1)],1)}),u=[],l=r("cebc"),p=(r("96cf"),r("3b8d")),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-toolbar",{attrs:{color:"blue",dark:"","pa-3":""}},[r("v-toolbar-title",{staticClass:"pointer-cursor",attrs:{color:"white"},on:{click:function(e){return t.backToHome()}}},[t._v("Shopping Time")]),r("v-spacer"),r("v-btn",{staticClass:"pointer-cursor",attrs:{flat:""},on:{click:function(e){return t.goToShoppingCart()}}},[r("v-badge",{attrs:{color:"black"},scopedSlots:t._u([t.shoppingCartLength?{key:"badge",fn:function(){return[r("span",[t._v(t._s(t.shoppingCartLength))])]},proxy:!0}:null],null,!0)},[r("v-icon",[t._v("shopping_cart")])],1)],1),t.isLoggedIn?[r("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({attrs:{flat:""}},n),[t._v("\n          "+t._s(t.user.username)+"\n          "),r("v-icon",[t._v("arrow_drop_down")])],1)]}}])},[r("v-list",t._l(t.appendedMenu,function(e,n){return r("v-list-tile",{key:n,on:{click:function(r){return t.menuClickHandler(e)}}},[r("v-list-tile-title",[t._v(t._s(e.display))])],1)}),1)],1)]:[r("v-btn",{attrs:{flat:""},on:{click:function(e){return t.signInHandler()}}},[t._v("SIGN IN")]),r("v-btn",{attrs:{flat:""},on:{click:function(e){return t.signUpHandler()}}},[t._v("JOIN")])]],2)},f=[],h=r("75fc"),m={CHANGE_IS_LOADING:"CHANGE_IS_LOADING",CHANGE_SHOW_USER_FORM:"CHANGE_SHOW_USER_FORM",CHANGE_IS_SIGN_UP:"CHANGE_IS_SIGN_UP",CHANGE_ALERT_MESSAGE:"CHANGE_ALERT_MESSAGE",CHANGE_CONFIRM_MESSAGE:"CHANGE_CONFIRM_MESSAGE",SET_CONFIRM_HANDLER:"SET_CONFIRM_HANDLER",SET_CANCEL_HANDLER:"SET_CANCEL_HANDLER",SET_USER:"SET_USER",SET_SHOPPING_CART:"SET_SHOPPING_CART"},v=(r("ac6a"),r("456d"),r("bc3a")),g=r.n(v),_=g.a.create({baseURL:"/api"});function x(t){return b.apply(this,arguments)}function b(){return b=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n,a,s,i,c,o=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,a=o.length>3&&void 0!==o[3]?o[3]:{},e){t.next=5;break}throw new Error("url should be provided!");case 5:return s=e,"get"===r&&n&&(i=Object.keys(n).reduce(function(t,e){return"".concat(t).concat(e,"=").concat(n[e],"&")},""),s="".concat(e,"?").concat(i)),t.next=9,_(Object(l["a"])({url:s,method:r,data:n},a));case 9:if(c=t.sent,console.log(c),c.data.reload&&window.location.reload(),c.data.success){t.next=14;break}throw new Error(c.data.errorMessage);case 14:return t.abrupt("return",c.data);case 15:case"end":return t.stop()}},t)})),b.apply(this,arguments)}var E="/user",C={fetchUserList:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(E,"get",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),createUser:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(E,"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},S="/utility",y={login:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(S,"/login"),"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchUserInfo:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(S,"/userInfo")));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(S,"/logout")));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),updateShoppingCart:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(S,"/update-shopping-cart"),"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchShoppingCart:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(S,"/fetch-shopping-cart")));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),increaseQuantity:function(t){return x("".concat(S,"/increase-quantity"),"post",t)},decreaseQuantity:function(t){return x("".concat(S,"/decrease-quantity"),"post",t)}},A="/category",R={fetchCategoryList:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(A));case 1:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),createCategory:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(A,"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),deleteCategory:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(A,"/").concat(e),"delete"));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),updateCategory:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(A,"/").concat(e._id),"put",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},w="/product",O={fetchProductList:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(w,"get",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),createProduct:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(w,"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),deleteProduct:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(w,"/").concat(e),"delete"));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),updateProduct:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x("".concat(w,"/").concat(e._id),"put",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},k="/order",N={fetchOrderList:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(k,"get",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),createOrder:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",x(k,"post",e));case 1:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()},G={User:C,Utility:y,Category:R,Product:O,Order:N},H=G,T={HOME:"/",ORDERS:"/orders",CONTROLL_PANEL:"/controll-panel",CATEGORY_MANEGEMENT:"/controll-panel/category",PRODUCT_MANAGEMENT:"/controll-panel/product",BROWSING_PRODUCT:"/browsing-product",SHOPPING_CART:"/shopping-cart"},M=T,j={name:"AppNavigation",data:function(){return{userMenu:[{display:"Order Management",path:M.ORDERS},{display:"Log Out",isLogout:!0}]}},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_SHOW_USER_FORM,m.CHANGE_IS_SIGN_UP,m.SET_USER,m.CHANGE_ALERT_MESSAGE]),{signUpHandler:function(){this[m.CHANGE_SHOW_USER_FORM]({flag:!0}),this[m.CHANGE_IS_SIGN_UP]({flag:!0})},signInHandler:function(){this[m.CHANGE_SHOW_USER_FORM]({flag:!0}),this[m.CHANGE_IS_SIGN_UP]({flag:!1})},menuClickHandler:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLogout){t.next=14;break}return t.prev=1,t.next=4,H.Utility.logout();case 4:this[m.SET_USER]({user:null}),this[m.CHANGE_ALERT_MESSAGE]({text:"SuccessFully Logged Out"}),this.backToHome(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 12:t.next=15;break;case 14:this.$router.push(e.path);case 15:case"end":return t.stop()}},t,this,[[1,9]])}));function e(e){return t.apply(this,arguments)}return e}(),backToHome:function(){this.$router.push(M.HOME)},goToShoppingCart:function(){this.$router.push(M.SHOPPING_CART)}}),computed:Object(l["a"])({},Object(s["e"])(["user"]),Object(s["c"])(["shoppingCartLength","isLoggedIn","isAdmin"]),{appendedMenu:function(){return this.isAdmin?[{display:"Control Panel",path:M.CONTROLL_PANEL}].concat(Object(h["a"])(this.userMenu)):this.userMenu}})},L=j,I=(r("8340"),r("2877")),P=Object(I["a"])(L,d,f,!1,null,null,null),U=P.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",[r("v-card-title",[r("span",{staticClass:"headline"},[t._v(t._s(t.userFormTitle))]),r("v-spacer"),t.isSignUp?r("v-btn",{attrs:{flat:"",color:"blue"},on:{click:function(e){return t.signInHandler()}}},[t._v("Sign In")]):r("v-btn",{attrs:{flat:"",color:"blue"},on:{click:function(e){return t.signUpHandler()}}},[t._v("Sign Up")])],1),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[t.isSignUp?r("SignUpForm",t._b({},"SignUpForm",t.signUpData,!1,!0)):r("SignInForm",t._b({},"SignInForm",t.signInData,!1,!0))],1),r("small",[t._v("*indicates required field")])],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.closeUserForm()}}},[t._v("Close")]),t.isSignUp?r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.signUp()}}},[t._v("Sign Up")]):r("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:function(e){return t.signIn()}}},[t._v("Sign In")])],1)],1)},F=[],$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"User Name*",value:t.username,rules:t.usernameRules,"error-messages":t.usernameErrorMessage,required:""},on:{input:function(e){t.$emit("update:username",e),t.checkUserExistence(e)}}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Password*",type:"password",value:t.password,rules:t.passwordRules,required:""},on:{input:function(e){return t.$emit("update:password",e)}}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Password Confirmation*",type:"password",value:t.passwordConfirmation,rules:t.passwordConfirmationRules,required:""},on:{input:function(e){return t.$emit("update:passwordConfirmation",e)}}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"First Name*",value:t.firstName,rules:t.firstNameRules,required:""},on:{input:function(e){return t.$emit("update:firstName",e)}}})],1),r("v-flex",{attrs:{xs12:"",sm6:""}},[r("v-text-field",{attrs:{label:"Last Name*",value:t.lastName,rules:t.lastNameRules,required:""},on:{input:function(e){return t.$emit("update:lastName",e)}}})],1)],1)],1)},q=[],B=r("2ef0"),W=r.n(B);function Q(t){return"".concat(t," is required")}var Y,J={name:"SignUpForm",props:{username:String,password:String,passwordConfirmation:String,firstName:String,lastName:String},data:function(){return{usernameRules:[function(t){return!!t||Q("User Name")}],passwordRules:[function(t){return!!t||Q("Password")}],passwordConfirmationRules:[function(t){return!!t||Q("Password Confirmation")}],firstNameRules:[function(t){return!!t||Q("First Name")}],lastNameRules:[function(t){return!!t||Q("Last Name")}],usernameErrorMessage:""}},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_ALERT_MESSAGE]),{checkUserExistence:W.a.debounce(function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.User.fetchUserList({username:e});case 3:r=t.sent,r.users.length?this.usernameErrorMessage="User Name exsited!":this.usernameErrorMessage="",t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}(),500)})},V=J,K=Object(I["a"])(V,$,q,!1,null,"54d3b6db",null),z=K.exports,X=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{"grid-list-md":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"User Name*",value:t.username,rules:t.usernameRules,required:""},on:{input:function(e){return t.$emit("update:username",e)}}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Password*",type:"password",value:t.password,rules:t.passwordRules,required:""},on:{input:function(e){return t.$emit("update:password",e)}}})],1)],1)],1)},Z=[],tt={name:"SignInForm",props:{username:String,password:String},data:function(){return{usernameRules:[function(t){return!!t||Q("User Name")}],passwordRules:[function(t){return!!t||Q("Password")}]}}},et=tt,rt=Object(I["a"])(et,X,Z,!1,null,"28a08c1e",null),nt=rt.exports,at={name:"Userform",components:{SignUpForm:z,SignInForm:nt},data:function(){return{signUpData:{username:"",password:"",passwordConfirmation:"",firstName:"",lastName:""},signInData:{username:"",password:""},valid:!1}},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_SHOW_USER_FORM,m.CHANGE_IS_SIGN_UP,m.CHANGE_ALERT_MESSAGE,m.SET_USER]),{signUpHandler:function(){this[m.CHANGE_IS_SIGN_UP]({flag:!0})},signInHandler:function(){this[m.CHANGE_IS_SIGN_UP]({flag:!1})},closeUserForm:function(){this[m.CHANGE_SHOW_USER_FORM]({flag:!1}),this.$refs.form.reset();var t=[this.signUpData,this.signInData];t.forEach(function(t){Object.keys(t).forEach(function(e){t[e]=""})})},signIn:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=13;break}return t.prev=1,t.next=4,H.Utility.login(this.signInData);case 4:e=t.sent,this[m.SET_USER]({user:e.user}),this.closeUserForm(),this[m.CHANGE_ALERT_MESSAGE]({text:"Successfully Logged In!"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}(),signUp:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.form.validate()){t.next=13;break}return t.prev=1,t.next=4,H.User.createUser(this.signUpData);case 4:e=t.sent,this[m.SET_USER]({user:e.user}),this.closeUserForm(),this[m.CHANGE_ALERT_MESSAGE]({text:"Successfully Registered!"}),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(l["a"])({},Object(s["e"])(["isSignUp"]),Object(s["c"])(["userFormTitle"]))},st=at,it=Object(I["a"])(st,D,F,!1,null,null,null),ct=it.exports,ot={name:"app",components:{AppNavigation:U,UserForm:ct},data:function(){return{searchText:""}},mounted:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_IS_LOADING,m.CHANGE_SHOW_USER_FORM,m.CHANGE_IS_SIGN_UP,m.CHANGE_ALERT_MESSAGE,m.SET_USER]),{closeAlert:function(){this[m.CHANGE_ALERT_MESSAGE]({text:""})},confirm:function(){this["confirmHandler"]()},cancel:function(){this["cancelHandler"]()}}),computed:Object(l["a"])({},Object(s["e"])(["isLoading","showUserForm","isSignUp","alertMessage","confirmMessage","confirmHandler","cancelHandler"]),Object(s["c"])(["userFormTitle","canDisplayAlert","canDisplayConfirm"]))},ut=ot,lt=(r("034f"),Object(I["a"])(ut,o,u,!1,null,null,null)),pt=lt.exports,dt=r("bd86");n["default"].config.devtools=!1,n["default"].use(s["a"]);var ft=new s["a"].Store({state:{isLoading:!1,showUserForm:!1,isSignUp:!1,shoppingCart:[],alertMessage:"",confirmMessage:"",confirmHandler:function(){},cancelHandler:function(){},user:null},mutations:(Y={},Object(dt["a"])(Y,m.CHANGE_IS_LOADING,function(t,e){t.isLoading=e.flag}),Object(dt["a"])(Y,m.CHANGE_SHOW_USER_FORM,function(t,e){t.showUserForm=e.flag}),Object(dt["a"])(Y,m.CHANGE_IS_SIGN_UP,function(t,e){t.isSignUp=e.flag}),Object(dt["a"])(Y,m.CHANGE_ALERT_MESSAGE,function(t,e){t.alertMessage=e.text}),Object(dt["a"])(Y,m.SET_USER,function(t,e){t.user=e.user}),Object(dt["a"])(Y,m.CHANGE_CONFIRM_MESSAGE,function(t,e){t.confirmMessage=e.text}),Object(dt["a"])(Y,m.SET_CONFIRM_HANDLER,function(t,e){t.confirmHandler=e}),Object(dt["a"])(Y,m.SET_CANCEL_HANDLER,function(t,e){t.cancelHandler=e}),Object(dt["a"])(Y,m.SET_SHOPPING_CART,function(t,e){t.shoppingCart=e}),Y),actions:{updateUser:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,H.Utility.fetchUserInfo();case 3:n=t.sent,r(m.SET_USER,{user:n.user});case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),fetchShoppingCart:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,H.Utility.fetchShoppingCart();case 3:n=t.sent,r(m.SET_SHOPPING_CART,n.shoppingCart||[]);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),triggerConfirm:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,r){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,n(m.CHANGE_CONFIRM_MESSAGE,{text:r}),t.next=4,new Promise(function(t){n(m.SET_CONFIRM_HANDLER,function(){return t(!0)}),n(m.SET_CANCEL_HANDLER,function(){return t(!1)})});case 4:return a=t.sent,n(m.CHANGE_CONFIRM_MESSAGE,{text:""}),t.abrupt("return",a);case 7:case"end":return t.stop()}},t)}));function e(e,r){return t.apply(this,arguments)}return e}(),addToCart:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,s,i,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.state,a=e.commit,s=e.getters,i=n.shoppingCart.slice(),s.shoppingCartObject[r._id]?(c=s.shoppingCartObject[r._id],c.quantity+=r.quantity,c.quantity=c.quantity>r.stock?r.stock:c.quantity):i.push(r),a(m.SET_SHOPPING_CART,i),t.prev=4,t.next=7,H.Utility.updateShoppingCart(i);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](4),a(m.CHANGE_ALERT_MESSAGE,{text:t.t0.message});case 12:case"end":return t.stop()}},t,null,[[4,9]])}));function e(e,r){return t.apply(this,arguments)}return e}(),deleteFromCart:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=e.state,s=a.shoppingCart.slice(),s.splice(r,1),t.prev=3,t.next=6,H.Utility.updateShoppingCart(s);case 6:n(m.SET_SHOPPING_CART,s),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),n(m.CHANGE_ALERT_MESSAGE,{text:t.t0.message});case 12:case"end":return t.stop()}},t,null,[[3,9]])}));function e(e,r){return t.apply(this,arguments)}return e}(),increaseQuantity:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,a=e.state,s=a.shoppingCart.slice(),i=s[r],!(i.quantity<i.stock)){t.next=14;break}return i.quantity++,n(m.SET_SHOPPING_CART,s),t.prev=6,t.next=9,H.Utility.increaseQuantity({index:r});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](6),n(m.CHANGE_ALERT_MESSAGE,{text:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[6,11]])}));function e(e,r){return t.apply(this,arguments)}return e}(),decreaseQuantity:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e,r){var n,a,s,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.commit,a=e.state,s=a.shoppingCart.slice(),i=s[r],!(i.quantity>1)){t.next=14;break}return i.quantity--,n(m.SET_SHOPPING_CART,s),t.prev=6,t.next=9,H.Utility.decreaseQuantity({index:r});case 9:t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](6),n(m.CHANGE_ALERT_MESSAGE,{text:t.t0.message});case 14:case"end":return t.stop()}},t,null,[[6,11]])}));function e(e,r){return t.apply(this,arguments)}return e}()},getters:{userFormTitle:function(t){return t.isSignUp?"Sign Up":"Sign In"},shoppingCartObject:function(t){return t.shoppingCart.reduce(function(t,e){return t[e._id]=e,t},{})},shoppingCartLength:function(t){return t.shoppingCart.length},canDisplayAlert:function(t){return Boolean(t.alertMessage)},canDisplayConfirm:function(t){return Boolean(t.confirmMessage)},isLoggedIn:function(t){return Boolean(t.user)},isAdmin:function(t){return!!t.user&&"admin"===t.user.role}}}),ht=ft,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-btn",{on:{click:function(e){return t.loadingHandler()}}},[t._v("Loading la!")])],1),r("v-flex",{attrs:{xs12:""}},[r("v-form",[r("v-text-field",{attrs:{solo:"",label:"Search","append-icon":"search",clearable:""},on:{"click:append":function(e){return t.searchProduct()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),t._l(t.categories,function(e){return r("v-flex",{key:e.name,attrs:{xs12:"",md4:""}},[r("v-card",[r("v-card-title",{attrs:{"primary-title":""}},[r("div",[r("h3",{staticClass:"headline mb-0"},[t._v(t._s(e.name))]),r("div",[t._v("\n              "+t._s(e.description)+"\n          ")])])]),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{flat:"",color:"info"},on:{click:function(r){return t.goToCategory(e)}}},[t._v("\n              Go Shopping\n          ")])],1)],1)],1)})],2)},vt=[],gt={name:"MainPage",data:function(){return{searchText:"",categories:[]}},mounted:function(){this.fetchCategories()},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_IS_LOADING,m.CHANGE_ALERT_MESSAGE]),{fetchCategories:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Category.fetchCategoryList();case 3:e=t.sent,this.categories=e.categories,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),loadingHandler:function(){var t=this;this[m.CHANGE_IS_LOADING]({flag:!0}),setTimeout(function(){t[m.CHANGE_IS_LOADING]({flag:!1})},3e3)},goToCategory:function(t){this.$router.push({name:"browsing-product-with-category",params:{category_id:t._id}})},searchProduct:function(){this.$router.push({path:M.BROWSING_PRODUCT,query:{name:this.searchText}})}})},_t=gt,xt=Object(I["a"])(_t,mt,vt,!1,null,null,null),bt=xt.exports,Et=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[t.hasOrders?t._l(t.orders,function(e,n){return r("v-flex",{key:e._id,attrs:{xs12:""}},[r("v-card",[r("v-card-title",[r("h3",[t._v("\n                        Order #"+t._s(n)+"\n                    ")])]),r("v-card-text",[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:e.products},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-center"},[r("h3",[t._v("\n                                    "+t._s(e.item.name)+"\n                                ")]),r("p",[t._v("\n                                    "+t._s(e.item.description)+"\n                                ")])]),r("td",{staticClass:"text-xs-center"},[t._v("\n                                $"+t._s(e.item.price)+"\n                            ")]),r("td",{staticClass:"text-xs-center"},[r("span",{staticClass:"stock-input"},[t._v("\n                                    "+t._s(e.item.quantity)+"\n                                ")])]),r("td",{staticClass:"text-xs-center"},[t._v("\n                                $"+t._s(e.item.price*e.item.quantity)+"\n                            ")])]}}],null,!0)})],1),r("v-card-actions",[r("v-spacer"),r("span",[t._v("\n                        Total：$"+t._s(e.totalAmount)+"\n                    ")])],1)],1)],1)}):[r("h3",[t._v("\n            Nothing here, please buy something and come back later...?\n        ")])]],2)},Ct=[],St={name:"OrderPage",data:function(){return{orders:[],headers:[{text:"Product",value:"product",align:"center",sortable:!1},{text:"Price",value:"price",align:"center",sortable:!1},{text:"Quatity",value:"quantity",align:"center",sortable:!1},{text:"Total Amount",value:"totalAmount",align:"center",sortable:!1}]}},mounted:function(){this.fetchOrders()},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_ALERT_MESSAGE]),{fetchOrders:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Order.fetchOrderList({user:this.user._id});case 3:e=t.sent,this.orders=e.orders,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(l["a"])({},Object(s["e"])(["user"]),{hasOrders:function(){return!!this.orders.length}})},yt=St,At=Object(I["a"])(yt,Et,Ct,!1,null,null,null),Rt=At.exports,wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-layout",{attrs:{row:"",wrap:"","mb-2":""}},t._l(t.links,function(e,n){return r("v-flex",{key:n,attrs:{xs12:"",md3:"","mr-0":""}},[r("v-btn",{attrs:{color:"info"},on:{click:function(r){return t.buttonClickHandler(e)}}},[t._v("\n          "+t._s(e.display)+"\n      ")])],1)}),1),r("router-view")],1)},Ot=[],kt={name:"ControllerPanel",data:function(){return{links:[{display:"Category Management",path:M.CATEGORY_MANEGEMENT},{display:"Product Management",path:M.PRODUCT_MANAGEMENT}]}},methods:{buttonClickHandler:function(t){this.$router.push(t.path)}}},Nt=kt,Gt=Object(I["a"])(Nt,wt,Ot,!1,null,null,null),Ht=Gt.exports,Tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-layout",{attrs:{"justify-end":""}},[r("v-flex",{attrs:{xs6:"",md3:""}},[r("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.showDialog()}}},[t._v("\n                Create Category\n            ")])],1)],1),t.hasCategories?[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.categories},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.description))]),r("td",{staticClass:"text-xs-right"},[r("v-btn",{attrs:{color:"gray"},on:{click:function(r){return t.editButtonClickHandler(e.item)}}},[r("v-icon",[t._v("\n                            edit\n                        ")])],1),r("v-btn",{attrs:{color:"gray"},on:{click:function(r){return t.deleteButtonClickHandler(e.item)}}},[r("v-icon",[t._v("\n                            delete\n                        ")])],1)],1)]}}],null,!1,599592438)})]:[r("h3",[t._v("We haven't found any categories, maybe you can come back later...?")])],r("v-dialog",{attrs:{"max-width":"600px"},on:{input:function(e){return t.closeCategoryForm()}},model:{value:t.canShowDialog,callback:function(e){t.canShowDialog=e},expression:"canShowDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v(t._s(t.formText)+" Category")]),r("v-card-text",[r("v-form",{ref:"categoryForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Name",rules:t.nameRules,required:""},model:{value:t.categoryData.name,callback:function(e){t.$set(t.categoryData,"name",e)},expression:"categoryData.name"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{label:"Description"},model:{value:t.categoryData.description,callback:function(e){t.$set(t.categoryData,"description",e)},expression:"categoryData.description"}})],1)],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.closeCategoryForm()}}},[t._v("Close")]),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.actionButtonClickHandler()}}},[t._v(t._s(t.formText))])],1)],1)],1)],2)},Mt=[],jt=r("d225"),Lt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(jt["a"])(this,t),this.name=e,this.description=r},It={name:"CategoryManagement",data:function(){return{categories:[],canShowDialog:!1,isCreateMode:!0,valid:!1,categoryData:{name:"",description:""},nameRules:[function(t){return!!t||"Name is required"}],headers:[{text:"Name",value:"name",align:"center",sortable:!1},{text:"Description",value:"name",align:"description",sortable:!1},{text:"Actions",align:"right",sortable:!1}]}},mounted:function(){this.fetchCategory()},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_ALERT_MESSAGE]),Object(s["b"])(["triggerConfirm"]),{fetchCategory:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,H.Category.fetchCategoryList();case 2:e=t.sent,this.categories=e.categories;case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),showDialog:function(){this.canShowDialog=!0},closeCategoryForm:function(){this.canShowDialog=!1,this.isCreateMode=!0,this.$refs.categoryForm.reset(),this.categoryData=new Lt},actionButtonClickHandler:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.categoryForm.validate()){t.next=17;break}if(t.prev=1,!this.isCreateMode){t.next=7;break}return t.next=5,H.Category.createCategory(this.categoryData);case 5:t.next=9;break;case 7:return t.next=9,H.Category.updateCategory(this.categoryData);case 9:this[m.CHANGE_ALERT_MESSAGE]({text:this.successText}),this.closeCategoryForm(),this.fetchCategory(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 17:case"end":return t.stop()}},t,this,[[1,14]])}));function e(){return t.apply(this,arguments)}return e}(),editButtonClickHandler:function(t){this.canShowDialog=!0,this.isCreateMode=!1,this.categoryData=Object.assign({},t)},deleteButtonClickHandler:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.triggerConfirm("Are you sure you want to delete this category?");case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,H.Category.deleteCategory(e._id);case 8:this[m.CHANGE_ALERT_MESSAGE]({text:"Successfully deleted a category"}),this.fetchCategory(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 15:case"end":return t.stop()}},t,this,[[5,12]])}));function e(e){return t.apply(this,arguments)}return e}()}),computed:{hasCategories:function(){return!!this.categories.length},successText:function(){return this.isCreateMode?"Successfully created category!":"Successfully updated category!"},formText:function(){return this.isCreateMode?"Create":"Edit"}}},Pt=It,Ut=Object(I["a"])(Pt,Tt,Mt,!1,null,null,null),Dt=Ut.exports,Ft=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-layout",{attrs:{"justify-end":""}},[r("v-flex",{attrs:{xs6:"",md3:""}},[r("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.showDialog()}}},[t._v("\n                Create Product\n            ")])],1)],1),t.hasProducts?[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.products},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.name))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.description))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.category.name))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.price))]),r("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.stock))]),r("td",{staticClass:"text-xs-right"},[r("v-btn",{attrs:{color:"gray"},on:{click:function(r){return t.editButtonClickHandler(e.item)}}},[r("v-icon",[t._v("\n                            edit\n                        ")])],1),r("v-btn",{attrs:{color:"gray"},on:{click:function(r){return t.deleteButtonClickHandler(e.item)}}},[r("v-icon",[t._v("\n                            delete\n                        ")])],1)],1)]}}],null,!1,460789164)})]:[r("h3",[t._v("We haven't found any product, maybe you can come back later...?")])],r("v-dialog",{attrs:{"max-width":"600px"},on:{input:function(e){return t.closeProductForm()}},model:{value:t.canShowDialog,callback:function(e){t.canShowDialog=e},expression:"canShowDialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v(t._s(t.formText)+" Product")]),r("v-card-text",[r("v-form",{ref:"productForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Name",rules:t.formRules.name,required:""},model:{value:t.productData.name,callback:function(e){t.$set(t.productData,"name",e)},expression:"productData.name"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-textarea",{attrs:{label:"Description"},model:{value:t.productData.description,callback:function(e){t.$set(t.productData,"description",e)},expression:"productData.description"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-select",{attrs:{items:t.categoryOptions,label:"Category",rules:t.formRules.category},model:{value:t.productData.category,callback:function(e){t.$set(t.productData,"category",e)},expression:"productData.category"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Price",type:"number",rules:t.formRules.price,required:""},model:{value:t.productData.price,callback:function(e){t.$set(t.productData,"price",e)},expression:"productData.price"}})],1),r("v-flex",{attrs:{xs12:""}},[r("v-text-field",{attrs:{label:"Stock",type:"number",rules:t.formRules.stock,required:""},model:{value:t.productData.stock,callback:function(e){t.$set(t.productData,"stock",e)},expression:"productData.stock"}})],1)],1)],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.closeProductForm()}}},[t._v("Close")]),r("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){return t.actionButtonClickHandler()}}},[t._v(t._s(t.formText))])],1)],1)],1)],2)},$t=[],qt=(r("7f7f"),{name:"ProductManagement",data:function(){return{products:[],categories:[],canShowDialog:!1,isCreateMode:!0,valid:!1,headers:[{text:"Name",value:"name",align:"center",sortable:!1},{text:"Description",value:"description",align:"center",sortable:!1},{text:"Category",value:"category",align:"center"},{text:"Price",value:"price",align:"center"},{text:"Stock",value:"stock",align:"center"},{text:"Actions",value:"action",align:"center"}],nameRules:[function(t){return!!t||"Name is required"}],formRules:{name:[function(t){return!!t||"Name is required"}],category:[function(t){return!!t||"Category is required"}],price:[function(t){return!!t||"Price is required"}],stock:[function(t){return!!t||"Stock is required"}]},productData:{name:"",description:"",price:null,stock:null,category:null}}},mounted:function(){this.fetchProducts(),this.fetchCategories()},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_ALERT_MESSAGE]),Object(s["b"])(["triggerConfirm"]),{fetchProducts:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Product.fetchProductList();case 3:e=t.sent,this.products=e.products,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),fetchCategories:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Category.fetchCategoryList();case 3:e=t.sent,this.categories=e.categories,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),showDialog:function(){this.canShowDialog=!0},closeProductForm:function(){this.$refs.productForm.reset(),this.canShowDialog=!1,this.isCreateMode=!0},editButtonClickHandler:function(t){try{this.productData=Object.assign({},t),this.isCreateMode=!1,this.showDialog()}catch(e){this[m.CHANGE_ALERT_MESSAGE]({text:e.message})}},deleteButtonClickHandler:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.triggerConfirm("Are You sure you want to delete this product?");case 2:if(r=t.sent,r){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,H.Product.deleteProduct(e._id);case 8:this[m.CHANGE_ALERT_MESSAGE]({text:"Successfully deleted product!"}),this.fetchProducts(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](5),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 15:case"end":return t.stop()}},t,this,[[5,12]])}));function e(e){return t.apply(this,arguments)}return e}(),actionButtonClickHandler:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.$refs.productForm.validate()){t.next=17;break}if(t.prev=1,!this.isCreateMode){t.next=7;break}return t.next=5,H.Product.createProduct(this.productData);case 5:t.next=9;break;case 7:return t.next=9,H.Product.updateProduct(this.productData);case 9:this[m.CHANGE_ALERT_MESSAGE]({text:this.successText}),this.fetchProducts(),this.closeProductForm(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 17:case"end":return t.stop()}},t,this,[[1,14]])}));function e(){return t.apply(this,arguments)}return e}()}),computed:{formText:function(){return this.isCreateMode?"Create":"Edit"},hasProducts:function(){return!!this.products.length},categoryOptions:function(){return this.categories.length?this.categories.map(function(t){return{text:t.name,value:t._id}}):[]},successText:function(){var t=this.isCreateMode?"created":"updated";return"Successfully ".concat(t," product")}}}),Bt=qt,Wt=Object(I["a"])(Bt,Ft,$t,!1,null,null,null),Qt=Wt.exports,Yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[r("v-form",[r("v-text-field",{attrs:{solo:"",label:"Search","append-icon":"search",clearable:""},on:{"click:append":function(e){return t.searchProduct()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1)],1),r("v-flex",{attrs:{xs12:"",md2:""}},[r("v-navigation-drawer",{attrs:{permanent:""}},[r("v-list",t._l(t.categories,function(e){return r("v-list-tile",{key:e.name,on:{click:function(r){return t.goToCategory(e)}}},[r("v-list-tile-content",[r("v-list-tile-title",[t._v(t._s(e.name))])],1)],1)}),1)],1)],1),r("v-flex",{attrs:{xs12:"",md10:""}},[r("v-container",[r("v-layout",{attrs:{row:"",wrap:""}},t._l(t.products,function(e){return r("v-flex",{key:e._id,attrs:{xs12:"",md4:""}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),r("v-card-text",{staticClass:"h100"},[r("div",[t._v("\n                                "+t._s(e.description)+"\n                            ")])]),r("v-card-actions",[r("span",[t._v("\n                                $"+t._s(e.price)+"\n                            ")]),r("v-spacer"),[r("v-icon",{staticClass:"pointer-cursor",on:{click:function(r){return t.decreaseQuantity(e)}}},[t._v("\n                                    remove\n                                ")]),r("span",{staticClass:"stock-input"},[t._v("\n                                    "+t._s(e.quantity)+"\n                                ")]),r("v-icon",{staticClass:"pointer-cursor",on:{click:function(r){return t.increaseQuantity(e)}}},[t._v("\n                                    add\n                                ")])],r("small",{staticClass:"ml-3"},[t._v("\n                                "+t._s(e.stock)+" remaining\n                            ")]),r("v-btn",{attrs:{flat:""},on:{click:function(r){return t.addToCart(e)}}},[r("v-icon",[t._v("\n                                    add_shopping_cart\n                                ")])],1)],2)],1)],1)}),1)],1)],1)],1)},Jt=[],Vt={name:"BrowsingProduct",data:function(){return{searchText:"",categories:[],headers:[{text:"Name",value:"name",align:"center",sortable:!1},{text:"Description",value:"description",align:"center",sortable:!1},{text:"Category",value:"category",align:"center"},{text:"Price",value:"price",align:"center"},{text:"Stock",value:"stock",align:"center"},{text:"Actions",value:"action",align:"center"}],products:[]}},mounted:function(){this.fetchCategories(),this.fetchProducts()},beforeRouteUpdate:function(t,e,r){r(),this.fetchCategories(),this.fetchProducts()},methods:Object(l["a"])({},Object(s["d"])([m.CHANGE_ALERT_MESSAGE]),Object(s["b"])(["addToCart"]),{fetchCategories:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.Category.fetchCategoryList();case 3:e=t.sent,this.categories=e.categories,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),fetchProducts:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e={},this.$route.params.category_id?e.category=this.$route.params.category_id:(r=this.$route.query,Object.keys(r).reduce(function(t,e){return t[e]=r[e],t},e)),t.next=5,H.Product.fetchProductList(e);case 5:n=t.sent,this.products=this.addQuantityToArrayObject(n.products),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error(t.t0),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),goToCategory:function(t){this.$router.push("".concat(M.BROWSING_PRODUCT,"/").concat(t._id))},addQuantityToArrayObject:function(t){return t.map(function(t){var e=Object.assign({},t);return e.quantity=1,e})},increaseQuantity:function(t){t.quantity<t.stock&&t.quantity++},decreaseQuantity:function(t){t.quantity>1&&t.quantity--},searchProduct:function(){this.$router.push({path:M.BROWSING_PRODUCT,query:{name:this.searchText}})}}),computed:{}},Kt=Vt,zt=(r("a42b"),Object(I["a"])(Kt,Yt,Jt,!1,null,"76660af4",null)),Xt=zt.exports,Zt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{xs12:""}},[t.shoppingCartLength?[r("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.shoppingCart},scopedSlots:t._u([{key:"items",fn:function(e){return[r("td",{staticClass:"text-xs-center"},[r("h3",[t._v("\n                            "+t._s(e.item.name)+"\n                        ")]),r("p",[t._v("\n                            "+t._s(e.item.description)+"\n                        ")])]),r("td",{staticClass:"text-xs-center"},[t._v("\n                        $"+t._s(e.item.price)+"\n                    ")]),r("td",{staticClass:"text-xs-center"},[r("v-icon",{staticClass:"pointer-cursor",on:{click:function(r){return t.decreaseQuantity(e.index)}}},[t._v("\n                            remove\n                        ")]),r("span",{staticClass:"stock-input"},[t._v("\n                            "+t._s(e.item.quantity)+"\n                        ")]),r("v-icon",{staticClass:"pointer-cursor",on:{click:function(r){return t.increaseQuantity(e.index)}}},[t._v("\n                            add\n                        ")])],1),r("td",{staticClass:"text-xs-center"},[t._v("\n                        $"+t._s(e.item.price*e.item.quantity)+"\n                    ")]),r("td",{staticClass:"text-xs-center"},[r("v-btn",{on:{click:function(r){return t.deleteItem(e.index)}}},[r("v-icon",[t._v("\n                                delete\n                            ")])],1)],1)]}}])})]:[r("h2",[t._v("Nothing here, maybe you can go shopping...please?")])]],2),r("v-flex",{attrs:{xs12:""}},[r("v-card",[r("v-card-actions",[r("v-spacer"),r("span",{staticClass:"mr-5"},[t._v("\n                    Total："+t._s(t.totalAmount)+"\n                ")]),r("v-btn",{attrs:{color:"success"},on:{click:function(e){return t.submit()}}},[t._v("\n                    Submit\n                ")])],1)],1)],1)],1)},te=[],ee={name:"ShoppingCart",data:function(){return{headers:[{text:"Product",value:"product",align:"center",sortable:!1},{text:"Price",value:"price",align:"center",sortable:!1},{text:"Quatity",value:"quantity",align:"center",sortable:!1},{text:"Total Amount",value:"totalAmount",align:"center",sortable:!1},{text:"Delete",value:"delete",align:"center",sortable:!1}],timeout:null}},methods:Object(l["a"])({},Object(s["b"])(["triggerConfirm","deleteFromCart","increaseQuantity","decreaseQuantity"]),Object(s["d"])([m.CHANGE_IS_LOADING,m.CHANGE_ALERT_MESSAGE,m.CHANGE_IS_SIGN_UP,m.CHANGE_SHOW_USER_FORM,m.SET_SHOPPING_CART]),{deleteItem:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(e){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,this.triggerConfirm("Are you sure you want to delete this item?");case 3:if(r=t.sent,!r){t.next=9;break}return this[m.CHANGE_IS_LOADING]({flag:!0}),t.next=8,this.deleteFromCart(e);case 8:this[m.CHANGE_IS_LOADING]({flag:!1});case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),checkIsLoggedIn:function(){this.isLoggedIn?this.submit():this.timeout=setTimeout(this.checkIsLoggedIn,500)},submit:function(){var t=Object(p["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.isLoggedIn){t.next=5;break}return this[m.CHANGE_IS_SIGN_UP]({flag:!1}),this[m.CHANGE_SHOW_USER_FORM]({flag:!0}),setTimeout(this.checkIsLoggedIn,500),t.abrupt("return");case 5:return t.prev=5,t.next=8,H.Order.createOrder({user:this.user._id,products:this.shoppingCart,totalAmount:this.totalAmount});case 8:this[m.CHANGE_ALERT_MESSAGE]({text:"Successfully created an order!"}),this[m.SET_SHOPPING_CART]([]),this.$router.push(M.HOME),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),this[m.CHANGE_ALERT_MESSAGE]({text:t.t0.message});case 16:case"end":return t.stop()}},t,this,[[5,13]])}));function e(){return t.apply(this,arguments)}return e}()}),computed:Object(l["a"])({},Object(s["e"])(["shoppingCart","user"]),Object(s["c"])(["shoppingCartLength","isLoggedIn"]),{totalAmount:function(){return this.shoppingCart.reduce(function(t,e){return t+=e.price*e.quantity,t},0)}})},re=ee,ne=(r("52dc"),Object(I["a"])(re,Zt,te,!1,null,"66ed1fbf",null)),ae=ne.exports;n["default"].use(a["a"]);var se=new a["a"]({routes:[{path:M.HOME,component:bt},{path:M.ORDERS,component:Rt,meta:{requiredLoggedIn:!0}},{path:M.CONTROLL_PANEL,component:Ht,meta:{requiredLoggedIn:!0},children:[{path:M.CATEGORY_MANEGEMENT,component:Dt},{path:M.PRODUCT_MANAGEMENT,component:Qt}]},{path:M.BROWSING_PRODUCT,name:"browsing-product",component:Xt},{path:"".concat(M.BROWSING_PRODUCT,"/:category_id"),name:"browsing-product-with-category",component:Xt},{path:M.SHOPPING_CART,component:ae}]});se.beforeEach(function(t,e,r){ht.dispatch("updateUser"),ht.dispatch("fetchShoppingCart"),t.matched.some(function(t){return t.meta.requiredLoggedIn})?H.Utility.fetchUserInfo().then(function(t){t.user?r():r({path:M.HOME})}):r()});var ie=se;n["default"].config.productionTip=!1,n["default"].config.devtools=!0,n["default"].use(a["a"]),n["default"].use(c.a);var ce=new n["default"]({render:function(t){return t(pt)},store:ht,router:ie}).$mount("#app");window.__VUE_DEVTOOLS_GLOBAL_HOOK__.Vue=ce.constructor},"630d":function(t,e,r){},"64a9":function(t,e,r){},8340:function(t,e,r){"use strict";var n=r("630d"),a=r.n(n);a.a},9548:function(t,e,r){},a42b:function(t,e,r){"use strict";var n=r("b320"),a=r.n(n);a.a},b320:function(t,e,r){}});
//# sourceMappingURL=app.21841301.js.map